<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‡æ¡åˆ¶ä½œå™¨ - Hack HTU</title>
    <style>
        @import url("/style/vars.css");

        * {
            margin: 0;
            padding: 0;
            font-family: var(--font-family);
            box-sizing: border-box;
        }

        body {
            display: flex;
            width: 100vw;
            flex-direction: column;
            align-items: center;
            background-color: var(--secondary-color);
            color: var(--primary-color);
        }

        nav {
            width: 100%;
            text-align: center;
            background-color: var(--nav-bg-color);
            border-radius: 20px;
            margin: 0 1em;
            padding: 0.5em 0;
            position: sticky;
            top: 0.5em;
            color: var(--primary-color);
            backdrop-filter: var(--blur);
            z-index: 999;
        }

        main {
            margin: 1em;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .notice {
            width: 100%;
            padding: 2em 1em 1em 1em;
            border: 1px solid;
            text-align: center;
        }

        .container {
            border: 1px solid;
            margin: 0 1em;
            padding: 1em;
            width: 90%;
            border-bottom-left-radius: 2em;
            border-bottom-right-radius: 2em;
        }

        .container p {
            margin: 1em 0;
            padding: 1em;
            background-color: blanchedalmond;
            color: black;
        }

        .container p::first-letter {
            font-size: 2em;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 8px;
            background-color: aliceblue;
            color: var(--primary-color);
            outline: none;
            border: none;
            border-radius: 0.5em;
            box-shadow: var(--card-shadow);
        }

        .form-group input::placeholder {
            color: cornflowerblue;
        }

        .third-action {
            display: none;
        }

        .tabs {
            display: flex;
            margin-top: 20px;
        }

        .tab {
            flex: 1;
            padding: 10px;
            cursor: pointer;
            text-align: center;
            background-color: var(--secondary-color);
        }

        .tab:first-child {
            border-top-left-radius: 2em;
            border-bottom-left-radius: 2em;
        }

        .tab:last-child {
            border-top-right-radius: 2em;
            border-bottom-right-radius: 2em;
        }

        .tab.active {
            background-color: var(--b);
        }

        .tab-content {
            display: none;
            margin-top: 20px;
        }

        .tab-content.active {
            display: block;
        }

        #preview {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
        }

        button {
            width: 100%;
            padding: 1em;
            border: none;
            border-radius: 2em;
            background-color: var(--g);
            color: var(--primary-color);
            box-shadow: var(--card-shadow);
            cursor: pointer;
        }

        footer {
            width: 80%;
            border-radius: 50px;
            text-align: center;
            padding: 10px;
            background-color: var(--footer-bg-color);
            color: var(--secondary-color);
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <nav>
        <h1>å‡æ¡åˆ¶ä½œå™¨ - Hack HTU</h1>
    </nav>
    <main>
        <div class="notice">
            <h2>ğŸ“£ å…è´£å£°æ˜</h2>
            <p>æœ¬å·¥å…·ä»…ç”¨äºå­¦ä¹ ç”¨é€”ï¼Œæ‚¨æ‰€ä½œçš„ä¸€åˆ‡æœ¬å·¥å…·æ¦‚ä¸è´Ÿè´£ï¼Œ<br>è¯¦è§æˆ‘ä»¬çš„éšç§æ”¿ç­–å’Œç”¨æˆ·åè®®ã€‚</p>
        </div>
        <div class="container">
            <p>1ï¸âƒ£ è¡¥å……ä»¥ä¸‹åŸºç¡€ä¿¡æ¯</p>
            <div class="form-group">
                <label for="name">å§“å</label>
                <input type="text" id="name" placeholder="æ ¼å¼ï¼šå¼ ä¸‰">
            </div>
            <div class="form-group">
                <label for="studentId">å­¦å·</label>
                <input type="text" id="studentId" placeholder="æ ¼å¼ï¼š0000000000">
            </div>
            <div class="form-group">
                <label for="gender">æ€§åˆ«</label>
                <input type="text" id="gender" placeholder="æ ¼å¼ï¼šç”·">
            </div>
            <div class="form-group">
                <label for="department">é™¢ç³»</label>
                <input type="text" id="department" placeholder="æ ¼å¼ï¼šxxxé™¢">
            </div>
            <div class="form-group">
                <label for="year">å¹´çº§</label>
                <input type="number" id="year" placeholder="æ ¼å¼ï¼š2024">
            </div>
            <div class="form-group">
                <label for="startDate">è¯·å‡å¼€å§‹æ—¶é—´</label>
                <input type="datetime-local" id="startDate">
            </div>
            <div class="form-group">
                <label for="endDate">è¯·å‡ç»“æŸæ—¶é—´</label>
                <input type="datetime-local" id="endDate">
            </div>
            <div class="form-group">
                <label for="isLeaving">æ˜¯å¦ç¦»æ ¡</label>
                <!-- <input type="text" id="isLeaving"> -->
                <select id="isLeaving">
                    <option value="ç¦»æ ¡">ç¦»æ ¡</option>
                    <option value="ä¸ç¦»æ ¡">ä¸ç¦»æ ¡</option>
                </select>
            </div>
            <div class="form-group">
                <label for="approver">å®¡æ‰¹äºº</label>
                <input type="text" id="approver" placeholder="é€šå¸¸æ˜¯å®¡æ ¸çš„è¾…å¯¼å‘˜">
            </div>
            <div class="form-group">
                <label for="upload">ä¸Šä¼ å›¾ç‰‡</label>
                <input type="file" id="upload" accept="image/*">
                <img id="preview">
            </div>
            <p>
                2ï¸âƒ£ æ‚¨çš„ä¸ªäººä¿¡æ¯å°†ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ç«¯ï¼Œè¿™äº›ä¿¡æ¯ä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚
            </p>
            <button onclick="saveData()">ä¸‹ä¸€æ­¥</button>
            <div class="third-action">
                <p>
                    3ï¸âƒ£ ä¸‹é¢æ˜¯æ—¶æ•ˆæ€§ä¿¡æ¯ï¼Œæ¯æ¬¡åˆ·æ–°ä¼šé‡ç½®ï¼Œè¯·é€‰æ‹©ä½ è¦åˆ¶ä½œçš„å‡æ¡ç±»å‹ï¼Œå¹¶è¡¥å……ä¸‹é¢çš„ä¿¡æ¯ã€‚
                </p>
                <div class="tabs">
                    <div class="tab active" onclick="showTab('show')">å‡ºç¤ºå‡æ¡</div>
                    <div class="tab" onclick="showTab('approve')">æ‰¹å‡†å‡æ¡</div>
                </div>
                <div id="show" class="tab-content active">
                    <p>ğŸ”” å‡ºç¤ºå‡æ¡ï¼šæ˜¯æŒ‡å‡æ¡å®¡æ ¸å®Œåçš„å‡ºç¤ºå‡æ¡çš„é¡µé¢ã€‚</p>
                    <div class="form-group">
                        <label for="approvalTime">æ‰¹å‡†æ—¶é—´</label>
                        <input type="datetime-local" id="approvalTime">
                    </div>
                    <button onclick="generateShowLeaveNote()">ç”Ÿæˆå‡ºç¤ºå‡æ¡ä¿¡æ¯å¡ç‰‡</button>
                </div>
                <div id="approve" class="tab-content">
                    <!-- <div class="form-group">
                        <label for="leaveType">è¯·å‡ç±»å‹</label>
                        <select id="leaveType">
                            <option value="å…¬å‡">å…¬å‡</option>
                            <option value="äº‹å‡">äº‹å‡</option>
                            <option value="ç—…å‡">ç—…å‡</option>
                            <option value="å»¶ç¼“è¿”æ ¡">å»¶ç¼“è¿”æ ¡</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="leaveReason">è¯·å‡åŸå› </label>
                        <input type="text" id="leaveReason">
                    </div>
                    <div class="form-group">
                        <label for="contactNumber">è”ç³»ç”µè¯</label>
                        <input type="text" id="contactNumber">
                    </div>
                    <button onclick="generateApproveLeaveNote()">ç”Ÿæˆæ‰¹å‡†å‡æ¡ä¿¡æ¯å¡ç‰‡</button> -->
                    æ‡’å¾—åš....
                </div>
            </div>

        </div>
        <footer>
            Thanks For JiaLiFuNia. <a href="../fake-maker/">è¿”å›æ—§ç‰ˆå·¥å…·</a>
        </footer>
    </main>


    <script>
        document.getElementById('upload').addEventListener('change', function () {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('preview').src = e.target.result;
                }
                reader.readAsDataURL(file);
            }
        });

        function saveData() {
            const data = {
                name: document.getElementById('name').value,
                studentId: document.getElementById('studentId').value,
                gender: document.getElementById('gender').value,
                department: document.getElementById('department').value,
                year: document.getElementById('year').value,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                isLeaving: document.getElementById('isLeaving').value,
                approver: document.getElementById('approver').value,
                image: document.getElementById('preview').src
            };
            localStorage.setItem('formData', JSON.stringify(data));

            document.querySelector('.third-action').style.display = "block";
        }

        function loadData() {
            const data = JSON.parse(localStorage.getItem('formData'));
            if (data) {
                document.getElementById('name').value = data.name;
                document.getElementById('studentId').value = data.studentId;
                document.getElementById('gender').value = data.gender;
                document.getElementById('department').value = data.department;
                document.getElementById('year').value = data.year;
                document.getElementById('startDate').value = data.startDate;
                document.getElementById('endDate').value = data.endDate;
                document.getElementById('isLeaving').value = data.isLeaving;
                document.getElementById('approver').value = data.approver;
                document.getElementById('preview').src = data.image;
            }
        }

        function showTab(tab) {
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));

            document.querySelector(`.tab[onclick="showTab('${tab}')"]`).classList.add('active');
            document.getElementById(tab).classList.add('active');
        }

        function generateShowLeaveNote() {
            const data = JSON.parse(localStorage.getItem('formData'));
            const approvalTime = document.getElementById('approvalTime').value;


            const cardData1 = {
                ...data,
                approvalTime,
            };

            localStorage.setItem('cardData1', JSON.stringify(cardData1));
            window.location.href = "showLeaveCard/index.html";
        }

        function generateApproveLeaveNote() {
            const data = JSON.parse(localStorage.getItem('formData'));
            const leaveType = document.getElementById('leaveType').value;
            const leaveReason = document.getElementById('leaveReason').value;
            const contactNumber = document.getElementById('contactNumber').value;

            const cardData2 = {
                ...data,
                leaveType,
                leaveReason,
                contactNumber
            };

            localStorage.setItem('cardData2', JSON.stringify(cardData2));
            window.location.href = 'approveLeaveCard/index.html';
        }

        loadData();
    </script>
</body>

</html>